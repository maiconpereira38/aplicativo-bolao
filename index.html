<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bol√£o de Pontos</title>
<link rel="manifest" href="manifest.json">

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: #fff;
  text-align: center;
  margin: 0;
}
.box {
  background: #1e293b;
  margin: 12px;
  padding: 15px;
  border-radius: 12px;
}
button {
  width: 90%;
  padding: 14px;
  font-size: 16px;
  margin: 6px 0;
  border: none;
  border-radius: 10px;
  background: #22c55e;
  font-weight: bold;
}
select, input {
  width: 90%;
  padding: 10px;
  margin: 6px 0;
  border-radius: 8px;
  border: none;
}
.ranking {
  text-align: left;
}
</style>
</head>

<body>

<h2>‚öΩ Bol√£o de Pontos</h2>

<div class="box">
  <input id="nome" placeholder="Seu nome">
  <select id="time"></select>
  <button onclick="entrar()">Entrar no Jogo</button>
</div>

<div class="box">
  <h3>üèÜ Ranking</h3>
  <div id="ranking" class="ranking"></div>
</div>

<script>
const TIMES = [
  "Flamengo","Palmeiras","Corinthians","S√£o Paulo","Gr√™mio",
  "Inter","Atl√©tico-MG","Cruzeiro","Vasco","Botafogo",
  "Fluminense","Bahia","Fortaleza","Athletico-PR","Cuiab√°",
  "Bragantino","Santos","Cear√°","Sport","Vit√≥ria"
];

let jogadores = [];
let cotas = {};
TIMES.forEach(t => cotas[t] = 77);

const select = document.getElementById("time");
TIMES.forEach(t => {
  let opt = document.createElement("option");
  opt.value = t;
  opt.textContent = `${t} (${cotas[t]} cotas)`;
  select.appendChild(opt);
});

function entrar() {
  const nome = document.getElementById("nome").value;
  const time = document.getElementById("time").value;

  if (!nome) {
    alert("Digite seu nome");
    return;
  }

  if (cotas[time] <= 0) {
    alert("Cotas esgotadas para este time");
    return;
  }

  cotas[time]--;
  jogadores.push({ nome, time, pontos: 0 });
  atualizarRanking();
  alert("Participa√ß√£o registrada! Fa√ßa o PIX conforme instru√ß√µes.");
}

function atualizarRanking() {
  jogadores.sort((a,b) => b.pontos - a.pontos);
  let html = "";
  jogadores.forEach(j => {
    html += `${j.nome} - ${j.time} - ${j.pontos} pts<br>`;
  });
  document.getElementById("ranking").innerHTML = html;
}

// FUN√á√ÉO ADMIN (VOC√ä)
function pontuar(timeVencedor, pontos) {
  jogadores.forEach(j => {
    if (j.time === timeVencedor) {
      j.pontos += pontos;
    }
  });
  atualizarRanking();
}
</script>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}
</script>

</body>
</html>
